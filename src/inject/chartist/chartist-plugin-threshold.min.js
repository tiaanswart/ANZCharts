/* chartist-plugin-threshold 0.0.1
 * Copyright Â© 2015 Gion Kunz
 * Free to use under the WTFPL license.
 * http://www.wtfpl.net/
 * https://raw.githubusercontent.com/gionkunz/chartist-plugin-threshold/ab88d7bdd98b6ea63c563d730fa07d064edf7889/src/scripts/chartist-plugin-threshold.js
 */

!function(e,s,a){"use strict";var h={threshold:0,classNames:{aboveThreshold:"ct-threshold-above",belowThreshold:"ct-threshold-below"},maskNames:{aboveThreshold:"ct-threshold-mask-above",belowThreshold:"ct-threshold-mask-below"}};a.plugins=a.plugins||{},a.plugins.ctThreshold=function(r){return(r=a.extend({},h,r)).maskNames.aboveThresholdID=r.maskNames.aboveThreshold+"-"+Math.random().toString(36).substr(2,9),r.maskNames.belowThresholdID=r.maskNames.belowThreshold+"-"+Math.random().toString(36).substr(2,9),function(e){(e instanceof a.Line||e instanceof a.Bar)&&(e.on("draw",function(e){"point"===e.type?e.element.addClass(e.value.y>=r.threshold?r.classNames.aboveThreshold:r.classNames.belowThreshold):"line"!==e.type&&"bar"!==e.type&&"area"!==e.type||(e.element.parent().elem(e.element._node.cloneNode(!0)).attr({mask:"url(#"+r.maskNames.aboveThresholdID+")"}).addClass(r.classNames.aboveThreshold),e.element.attr({mask:"url(#"+r.maskNames.belowThresholdID+")"}).addClass(r.classNames.belowThreshold))}),e.on("created",function(e){var s,a,h,t,l,o;a=r,h=(s=e).svg.querySelector("defs")||s.svg.elem("defs"),t=s.chartRect.height()-s.axisY.projectValue(a.threshold)+s.chartRect.y2,l=s.svg.width(),o=s.svg.height(),h.elem("mask",{x:0,y:0,width:l,height:o,maskUnits:"userSpaceOnUse",id:a.maskNames.aboveThresholdID}).elem("rect",{x:0,y:0,width:l,height:t,fill:"white"}),h.elem("mask",{x:0,y:0,width:l,height:o,maskUnits:"userSpaceOnUse",id:a.maskNames.belowThresholdID}).elem("rect",{x:0,y:t,width:l,height:o-t,fill:"white"})}))}}}(window,document,Chartist);